<div class="main-container">
  <!-- Conteneur principal avec le graphe -->
  <div class="graph-container">
    <!-- Conteneur pour Sigma  -->
    <div #container style="height:400px;width:100%;background:#f5f5fa;border-radius:1rem;"></div>

    <!-- Actions -->
    <div class="controls" style="margin-top: 1rem;">
      <button (click)="exportGraph()">üì§ Exporter</button>
      <button (click)="editGraph()">‚úèÔ∏è Editer</button>
      
    </div>
  </div>

  <!-- Panneau d'informations lat√©ral -->
  @if (showCrudPanel) {
    <div class="crud-panel">
      <div class="panel-header">
        <h3>
          @if (selectedElementType === 'oeuvre') {
            D√©tails de l'≈ìuvre
          } @else if (selectedElementType === 'artiste') {
            D√©tails de l'artiste
          } @else if (selectedElementType === 'relation') {
            D√©tails de la relation
          }
        </h3>
        <button class="close-btn" (click)="clearSelection()">√ó</button>
      </div>

      <div class="panel-content">
        <!-- Affichage des d√©tails de l'√©l√©ment s√©lectionn√© -->
        @if (selectedElement) {
          <div class="element-details">
            @if (selectedElementType === 'oeuvre') {
              <div class="detail-item">
                <strong>Nom:</strong> {{ selectedElement.nom }}
              </div>
              <div class="detail-item">
                <strong>Date de cr√©ation:</strong> {{ selectedElement.date_creation }}
              </div>
              <div class="detail-item">
                <strong>Type:</strong> {{ selectedElement.type }}
              </div>
              <div class="detail-item">
                <strong>Genre:</strong> {{ selectedElement.genre }}
              </div>
              <div class="detail-item">
                <strong>Mouvement:</strong> {{ selectedElement.mouvement }}
              </div>
              <div class="detail-item">
                <strong>Dimensions:</strong> {{ selectedElement.dimensions }}
              </div>
              @if (selectedElement.description) {
                <div class="detail-item">
                  <strong>Description:</strong> {{ selectedElement.description }}
                </div>
              }
            }

            @if (selectedElementType === 'artiste') {
              <div class="detail-item">
                <strong>Nom:</strong> {{ selectedElement.nom }}
              </div>
              @if (selectedElement.prenom) {
                <div class="detail-item">
                  <strong>Pr√©nom:</strong> {{ selectedElement.prenom }}
                </div>
              }
              @if (selectedElement.nationalite) {
                <div class="detail-item">
                  <strong>Nationalit√©:</strong> {{ selectedElement.nationalite }}
                </div>
              }
              @if (selectedElement.description) {
                <div class="detail-item">
                  <strong>Description:</strong> {{ selectedElement.description }}
                </div>
              }
              @if (selectedElement.genre) {
                <div class="detail-item">
                  <strong>Genre:</strong> {{ selectedElement.genre }}
                </div>
              }
            }

            @if (selectedElementType === 'relation') {
              <div class="detail-item">
                <strong>Type:</strong> {{ selectedElement.type }}
              </div>
              <div class="detail-item">
                <strong>Source ID:</strong> {{ selectedElement.sourceId }}
              </div>
              <div class="detail-item">
                <strong>Target ID:</strong> {{ selectedElement.targetId }}
              </div>
            }
          </div>
        }
      </div>
    </div>
  }
</div>

