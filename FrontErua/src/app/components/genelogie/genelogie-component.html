<div class="main-container">
  <!-- Conteneur principal avec le graphe -->
  <div class="graph-container">
    <!-- Conteneur pour Sigma  -->
    <div #container style="height:400px;width:100%;background:#f5f5fa;border-radius:1rem;"></div>

    <!-- Actions -->
    <div class="controls" style="margin-top: 1rem;">
      <button (click)="exportGraph()">ðŸ“¤ Exporter</button>
      <button (click)="centrerGraphique()">ðŸŽ¯ Centrer</button>
    </div>
  </div>

  <!-- Panneau d'informations latÃ©ral -->
  @if (showCrudPanel) {
    <div class="crud-panel">
      <div class="panel-header">
        <h3>
          @if (selectedElementType === 'oeuvre') {
            DÃ©tails de l'Å“uvre
          } @else if (selectedElementType === 'artiste') {
            DÃ©tails de l'artiste
          } @else if (selectedElementType === 'relation') {
            DÃ©tails de la relation
          }
        </h3>
        <button class="close-btn" (click)="clearSelection()">Ã—</button>
      </div>

      <div class="panel-content">
        <!-- Affichage des dÃ©tails de l'Ã©lÃ©ment sÃ©lectionnÃ© -->
        @if (selectedElement) {
          <div class="element-details">
            @if (selectedElementType === 'oeuvre') {
              <div class="detail-item">
                <strong>Nom:</strong> {{ selectedElement.nom }}
              </div>
              <div class="detail-item">
                <strong>Date de crÃ©ation:</strong> {{ selectedElement.date_creation }}
              </div>
              <div class="detail-item">
                <strong>Type:</strong> {{ selectedElement.type }}
              </div>
              <div class="detail-item">
                <strong>Genre:</strong> {{ selectedElement.genre }}
              </div>
              <div class="detail-item">
                <strong>Mouvement:</strong> {{ selectedElement.mouvement }}
              </div>
              <div class="detail-item">
                <strong>Dimensions:</strong> {{ selectedElement.dimensions }}
              </div>
              @if (selectedElement.description) {
                <div class="detail-item">
                  <strong>Description:</strong> {{ selectedElement.description }}
                </div>
              }
            }

            @if (selectedElementType === 'artiste') {
              <div class="detail-item">
                <strong>Nom:</strong> {{ selectedElement.nom }}
              </div>
              @if (selectedElement.prenom) {
                <div class="detail-item">
                  <strong>PrÃ©nom:</strong> {{ selectedElement.prenom }}
                </div>
              }
              @if (selectedElement.nationalite) {
                <div class="detail-item">
                  <strong>NationalitÃ©:</strong> {{ selectedElement.nationalite }}
                </div>
              }
              @if (selectedElement.description) {
                <div class="detail-item">
                  <strong>Description:</strong> {{ selectedElement.description }}
                </div>
              }
              @if (selectedElement.genre) {
                <div class="detail-item">
                  <strong>Genre:</strong> {{ selectedElement.genre }}
                </div>
              }
            }

            @if (selectedElementType === 'relation') {
              <div class="detail-item">
                <strong>Type:</strong> {{ selectedElement.type }}
              </div>
              <div class="detail-item">
                <strong>Source ID:</strong> {{ selectedElement.sourceId }}
              </div>
              <div class="detail-item">
                <strong>Target ID:</strong> {{ selectedElement.targetId }}
              </div>
            }
          </div>
        }
      </div>
    </div>
  }
</div>

